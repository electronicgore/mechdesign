%%% License: Creative Commons Attribution Share Alike 4.0 (see https://creativecommons.org/licenses/by-sa/4.0/)

\documentclass[english,10pt
,aspectratio=169
%,handout
%%%%%%,notes
]{beamer}
\input{MD_preamble.tex}


\title{Mechanism Design}

\subtitle{2: Implementability of arbitrary s.c.f.s}

\author{Egor Starkov}

\date{K{\o}benhavns Unversitet \\
	Fall 2022}


\begin{document}
	\AtBeginSection[]{
		\frame{
			\frametitle{This slide deck:}
			\tableofcontents[currentsection,currentsubsection]
	}}
	\frame[plain]{\titlepage}



\section{Testing Implementability}

\begin{frame}{Testing Implementability}
	\begin{exampleblock}{}
		How can we check whether a given $f(\theta)$ is implementable?
	\end{exampleblock} 
	\begin{itemize}
		\item We have seen an answer for the Euclidean setting. What about more general settings?
	\end{itemize}
\end{frame}


%\begin{frame}{DSIC: Weak Preference Reversal Property}
%	\begin{itemize}
%		\item \textbf{Answer 1}: \structure{revelation principle}. (Applies to any \alert{general} setting.)
%		Construct a DRM and check all players' \alert{IC conditions}; s.c.f. is implementable iff it satisfies them:
%		$$ u_{i}(f(\theta_{i}', \theta_{-i}), \theta_{i}') \geq u_{i}(f(\theta_{i}'', \theta_{-i}), \theta_{i}') \text{ for all } i,\theta_i',\theta_i'',\theta_{-i}.$$
%		
%		\item Note that they imply the following \structure{preference reversal} condition: for all $i,\theta_i',\theta_i'',\theta_{-i}$,
%		\begin{align*}
%			u_{i}(f(\theta_{i}', \theta_{-i}), \theta_{i}') &\geq u_{i}(f(\theta_{i}'', \theta_{-i}), \theta_{i}'),
%			\\
%			u_{i}(f(\theta_{i}', \theta_{-i}), \theta_{i}'') &\leq u_{i}(f(\theta_{i}'', \theta_{-i}), \theta_{i}'').
%		\end{align*}
%		\item $i$'s preference between $f(\theta_{i}', \theta_{-i})$ and $f(\theta_{i}'', \theta_{-i})$ should flip when his type changes from $\theta_i'$ to $\theta_i''$ for $f$ to be DSIC. In other words:
%		\item ``To each their own'': different types should get their most preferred option among the available ones.
%	\end{itemize}
%\end{frame}


\begin{frame}{Monotonicity: Euclidean setting}
	\begin{itemize}
		\item \textbf{Reminder}: \structure{monotonicity} for Euclidean problems.
		\begin{itemize}
			\item Note: only the players' preferences are required to be linear for this to hold; the principal can have non-linear prefs. 
		\end{itemize}
		\item In a \alert{Euclidean} setting, $k(\theta)$ is implementable only if it is monotone.
		\item Turns out, this is a sharp characterization: \\
		if $k(\theta)$ is monotone, there exist transfers $t$ such that $\Gamma = (\Theta, (k,t))$ is DSIC.
		\begin{itemize}
			\item Monotonicity may require $k(\theta)$ to be either weakly increasing, or weakly decreasing, depending on the problem.
			\item To prove: use the relevant ERP to construct all transfers; can then show that the resulting mechanism is DSIC/BIC as needed.
		\end{itemize}
	\end{itemize}
\end{frame}


\begin{frame}{Monotonicity: quasilinear setting}
	Extension to \alert{quasilinear} setting:
	\begin{exampleblock}{Definition (\textbf{weak monotonicity})}
		Allocation $k$ is \alert{weakly monotone} if for all $i,\theta_i',\theta_i'',\theta_{-i}$:
		\begin{equation*}
			v_{i}(k(\structure{\theta_{i}'}, \theta_{-i}), \structure{\theta_{i}'}) - 
			v_{i}(k(\alert{\theta_{i}''}, \theta_{-i}), \structure{\theta_{i}'}) 
			\geq 
			v_{i}(k(\structure{\theta_{i}'}, \theta_{-i}), \alert{\theta_{i}''}) - 
			v_{i}(k(\alert{\theta_{i}''}, \theta_{-i}), \alert{\theta_{i}''}) 
		\end{equation*}
	\end{exampleblock}
	\begin{theorem}[Necessity of weak monotonicity in qlin setting]
		In the quasilinear setting: if $k$ is DSIC then $k$ is weakly monotone.
	\end{theorem}
	So $k$ must be weakly monotone to be implementable.\\ 
	But weak monotonicity does not guarantee implementability. \\
	But we can strengthen this...
\end{frame}


\begin{frame}{Monotonicity: quasilinear setting}
	\begin{exampleblock}{Definition (\textbf{cyclical monotonicity})}
		Allocation $k$ is \alert{cyclically monotone} if for all $i,\theta_{-i}$, and all sequences $(\theta_i^1,\theta_i^2,...,\theta_i^M)\in \Theta_i^M$ of arbitrary length $M$ s.t. $\theta_i^M=\theta_i^1$, the following holds:
		\begin{equation*}
			\sum_{m=1}^{M-1}
			\left[
			v_{i}(k(\alert{\theta_{i}^m}, \theta_{-i}), \alert{\theta_{i}^{m+1}}) - 
			v_{i}(k(\alert{\theta_{i}^{m}}, \theta_{-i}), \alert{\theta_{i}^m}) 
			\right] 
			\leq 0
		\end{equation*}
	\end{exampleblock}
	\begin{theorem}[\textbf{Rochet, 1987}]
		In a quasilinear setting: $k$ is DSIC if and only if $k$ is cyclically monotone.
	\end{theorem}
	\textbf{Note}: ``Weak monotonicity'' = ``cyclical monotonicity for $M=3$''.
	See B{\"o}rgers, ch.5.3-5.4 for proofs or references to proofs (for $N=1$). See rest of ch.5 for other kinds of monotonicity for quasilinear setting.
\end{frame}


\begin{frame}{Monotonicity: general setting (1)}
	\textbf{Without transfers}, interesting results come up... 
	\begin{exampleblock}{Definition (\textbf{outcome monotonicity})}
		In a general setting, outcome $x$ is \alert{monotone} if for all $\theta',\theta'' \in \Theta$ the following holds:
		\begin{itemize}
			\item if for all $i$ and all $x' \in X$ s.t. $u_i(x(\theta'),\theta') \geq u_i(x',\theta')$ it holds that $u_i(x(\theta'),\theta'') \geq u_i(x',\theta'')$,
			\item then $x(\theta'')=x(\theta')$.
		\end{itemize}
	\end{exampleblock}
	In words, if under $\theta''$ everyone likes $x(\theta')$ more than under $\theta'$, then we give $x(\theta')$ under $\theta''$.
	\begin{theorem}[Necessity of monotonicity in general setting]
		In the general setting: if $x$ is DSIC and $x(\Theta)=X$ then $x$ is monotone.
	\end{theorem}
	(This is not THE interesting part yet. The next result is.)
\end{frame}


\begin{frame}{Monotonicity: general setting (2)}
	%\textbf{Assume} $X$ is finite and 
	\begin{exampleblock}{Assumption (\textbf{Domain})}
		Assume type sets $\Theta_i$ are rich enough to contain all possible (ordinal) preferences over $X$ for all $i$.
	\end{exampleblock}
	\begin{exampleblock}{Definition (dictatorial s.c.f.)}
		S.c.f. $f$ is called \alert{dictatorial} if there exists $i \in N$ s.t. for all type profiles $\theta$:
	$ f(\theta) \in \arg \max_x u_i(x,\theta_i).$
	\end{exampleblock}
\end{frame}


\begin{frame}{Monotonicity: general setting (3)}
	\begin{theorem}[\textbf{Gibbard-Satterthwaite, 1973,'75}]
		In a general setting with $|X|\geq 3$: if $x(\Theta)=X$, then\\
		\centering
		$x$ is \alert{DSIC} if and only if $x$ is \alert{dictatorial}.
	\end{theorem}
	\begin{itemize}
		\item To clarify, $x(\Theta) \equiv \left\{ x \in X \mid \exists \theta: x(\theta) = x \right\}$ is the set of ``outcomes that could be prescribed for some $\theta \in \Theta$''.
		\item Note: restriction $x(\Theta) = X$ is irrelevant.\\
		If $x(\Theta) \subset X$, then only preferences over alternatives in $x(\Theta)$ are relevant, and we will still have a dictatorship on $x(\Theta)$. This is something we'll come back to later.
		\item GS theorem is the mechanism design version of Arrow's theorem from social choice.
	\end{itemize}
\end{frame}


\begin{frame}{Monotonicity: general setting (4)}
	\begin{itemize}
		\item The missing link between the two results above is this:
		\begin{theorem}[Monotonicity implies dictatorship]
			In a general setting with $|X|\geq 3$: if $x(\Theta)=X$ and the domain assumption hold, then\\
			\centering
			if $x$ is monotone then $x$ is dictatorial.
		\end{theorem}
		\item For a full proof of GS thm, see B{\"o}rgers, ch.8.2, or \href{http://dx.doi.org/10.1016/j.jmateco.2014.09.007}{\uline{Svensson and Reffgen (2014)}}
		\item All three results for the general setting hold with ordinal preferences ($\succsim_i$) too, they do not rely on cardinal utilities $u_i$.
		%\begin{itemize}
		%	\item If anything, the domain assumption ($x(\Theta)=X$) is easier to state with ordinal preferences.
		%\end{itemize}
		\item The GS thm is also extendable to infinite $X$.
	\end{itemize}
\end{frame}


\begin{frame}{Monotonicity: general setting (5)}
	\begin{itemize}
		\item It \emph{seems} like GS thm is a strong negative result saying ``we can't implement anything unless it's dictatorial!''. But we obviously can: we've seen examples (like VCG). Where is the contradiction?
		\item The source of evil in GS thm is the \alert{domain} assumption (``any preference is possible''). \\
		We often know \structure{something} about some players' preferences, so can restrict the set of possible preferences.
		\begin{itemize}
			\item E.g., quasilinear prefs: ``everyone always likes money''. Then at least the efficient allocation rule $k^*(\theta)$ is implementable (and typically not dictatorial!)
			\item Another common example is the single-peaked preferences. They also allow for non-dictatorial DSIC mechanisms. (B{\"o}rgers, Prop 8.6)
		\end{itemize}
		\item \textbf{Takeaway:} you can't make an \sout{omelet} mechanism without \sout{breaking some eggs} making some assumptions about the players' preferences! (...or can you?)
	\end{itemize}
\end{frame}


\begin{frame}{Next steps}
	\begin{itemize}
		\item We will now look at a few examples of mechanisms without transfers. 
		\item These will show what kind of mechanisms we can have if we relax the domain assumption (similar to assuming we have access to transfers) and what kinds of instruments we can use.
		\item Some will show that even dictatorial mechanisms can be useful!
	\end{itemize}
\end{frame}



\section{Example 1: Voting with single-peaked preferences}

\begin{frame}{Example 1: Voting with single-peaked preferences}
	\textbf{Setup:}
	\begin{itemize}
		\item There are $M$ alternatives that are ordered in some sense: \\
		$X = (x_1, x_2, ..., x_M)$ with $x_1 < x_2 < ... < x_M$.
		\item There are $N$ players with private single-peaked ordinal preferences $\succsim_i(\theta_i)$ over these alternatives
		\begin{itemize}
			\item An ordinal preference relation $\succsim_i(\theta_i)$ is called \structure{single-peaked} if $\exists x^*(\theta_i)$ s.t. for any $x_k < x_l\leq x^*(\theta_i)$, $x_l \succsim_i x_k$, and for any $x^*(\theta_i) \leq x_k < x_l$, $x_k \succsim_i x_l$.
			\item Think ``utility function $u_i(x,\theta_i)$ that is increasing between $x_1$ and $x^*(\theta_i)$ and decreasing between $x^*(\theta_i)$ and $x_M$''.
		\end{itemize}
		\item \alert{Example}: policy debate on a one-dimensional issue -- corporate tax rate, level of the unemployment benefits, openness of the immigration policy, level of governmental oversight over media/internet.
	\end{itemize}
	\textbf{Question:}
	\begin{itemize}
		\item Can we implement any non-dictatorial s.c.f. $f(\theta)$?
	\end{itemize}
\end{frame}


\begin{frame}{Example 1. Pairwise majority voting}
	If we allowed arbitrary preferences over $X$, then GS thm says ``no, only dictatorship is incentive compatible''. But we assumed single-peakedness, so GS thm does not hold.
	\begin{theorem}
		In the setting defined above, if the number of players $N$ is odd, then \alert{pairwise majority voting} selects \structure{the peak of the median voter}.
	\end{theorem}
	\begin{itemize}
		\item \textbf{Pairwise Majority Voting:} for any pair $x_k, x_l$, if the majority of voters prefers $x_k$ to $x_l$ (according to their reported types $(\theta_1,...,\theta_N)$), then say that $x_k$ is \emph{socially preferred} to $x_l$. After comparing all pairs, select the one that is socially preferred to all others.
		\item Without single-peakedness, Condorcet cycles ($x_1 \succ_S x_2 \succ_S x_3 \succ_S x_1$) may arise in the social preference. But if individual prefs are single-peaked, soc pref is well defined, its most preferred alternative exists, and coincides with the median voter's most preferred alternative. (See MWG, theorems 21.D.1-2.)
	\end{itemize}
\end{frame}



\section{Example 2: Delegation}

\begin{frame}{title}
content...
\end{frame}



\section{Example 3: Communication}

\begin{frame}{title}
	content...
\end{frame}



\section{Example 4: Dynamic }

\begin{frame}{title}
content...
\end{frame}


\end{document}