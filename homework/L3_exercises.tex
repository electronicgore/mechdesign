%%% License: Creative Commons Attribution Share Alike 4.0 (see https://creativecommons.org/licenses/by-sa/4.0/)%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%----------------------------------------------------------------------------------------%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS%----------------------------------------------------------------------------------------\documentclass[a4paper]{article}\usepackage{amssymb}\usepackage{enumerate}\usepackage[usenames,dvipsnames]{color}\usepackage{fancyhdr} % Required for custom headers\usepackage{lastpage} % Required to determine the last page for the footer\usepackage{extramarks} % Required for headers and footers\usepackage[usenames,dvipsnames]{color} % Required for custom colors\usepackage{graphicx} % Required to insert images\usepackage{listings} % Required for insertion of code\usepackage{courier} % Required for the courier font\usepackage[table]{xcolor}\usepackage{amsfonts,amsmath,amsthm,parskip,setspace,url}\usepackage[section]{placeins}\usepackage[a4paper]{geometry}\usepackage[USenglish]{babel}\usepackage[utf8]{inputenc}% Margins\topmargin=-0.45in\evensidemargin=0in\oddsidemargin=0in\textwidth=6.5in\textheight=9.0in\headsep=0.6in\linespread{1.1} % Line spacing%----------------------------------------------------------------------------------------%   FORMATTING%----------------------------------------------------------------------------------------% Set up the header and footer\pagestyle{fancy}\lhead[c]{\textbf{{\color[rgb]{.5,0,0} K{\o}benhavns\\Universitet }}} % Top left header\chead{\textbf{{\color[rgb]{.5,0,0} \Class }}\\ \hmwkTitle  } % Top center head\rhead{\instructor \\ \theprofessor} % Top right header\lfoot{\lastxmark} % Bottom left footer\cfoot{} % Bottom center footer\rfoot{Page\ \thepage\ of\ \protect\pageref{LastPage}} % Bottom right footer\renewcommand\headrulewidth{0.4pt} % Size of the header rule\renewcommand\footrulewidth{0.4pt} % Size of the footer rule% Other formatting stuff%\setlength\parindent{12pt}\setlength{\parskip}{5 pt}%\theoremstyle{definition} \newtheorem{ex}{\textbf{\Large{Exercise & #}\\}}\usepackage{titlesec}\titleformat{\section}[hang]{\normalfont\bfseries\Large}{Problem \thesection:}{0.5em}{}%----------------------------------------------------------------------------------------%	NAME AND CLASS SECTION%----------------------------------------------------------------------------------------\newcommand{\hmwkTitle}{Exercises after Lecture 3 (M1)} % Assignment title\newcommand{\Class}{Mechanism Design} % Course/class\newcommand{\instructor}{Fall 2020} % TA\newcommand{\theprofessor}{Prof. Egor Starkov} % Professor%----------------------------------------------------------------------------------------%   SOLUTIONS%----------------------------------------------------------------------------------------\newif\ifsolutions\solutionstrue\begin{document}\begin{center}		\LARGE\textbf{Exercises after Lecture 3 (M1):\\ Efficient Mechanisms}\end{center}\section{Design an attendance scheme}	Due to COVID-19 our classrooms have half capacity, and the current lecture organization at KU is such that students born on 1-15th of any month may come to class on even weeks, while those born on 16-31st of any month may come in odd weeks.		This is not necessarily efficient, for many reasons:	\begin{itemize}		\item You may not be able to come on the same days as your friends.		\item Our current classroom has a covid-capacity of 38, which is less than the number of students (50 currently), but much more than half that (25), so we are not using this capacity to the max.		\item Some students may strictly prefer to come to class in general, and some others may actually prefer to attend online, so mutually beneficial exchanges of ``seating rights'' may be possible.	\end{itemize}	Your mission, should you choose to accept it, is to design a mechanism that would allocate the attendance priveleges efficiently.		\begin{enumerate}		\item Write the problem down formally. Introduce players and their types, allocations, adopt some functional form for payoffs. Write down the efficient social choice function.		\item Suppose that we can use the VCG mechanism. Derive the VCG transfers that support the efficient s.c.f. Explain intuitively how these transfers look.		\item We can actually not use the VCG mechanism because we cannot conduct monetary transactions in class. Can you suggest an alternative? (An alternative mechanism or an acceptable substitute for money?) Can things be helped by the fact that our problem is repeated every week, rather than being run once?	\end{enumerate}\ifsolutions\section*{Solution}	\begin{enumerate}		\item One way to formalize the problem is as follows. There are $N=50$ players, each has some valuation $\theta_i \in \mathbb{R}$ for physical participation in the lecture (relative to their outside option, which is either joining on zoom, or watching the recording; so the value of the outside option is set to zero by this normalization). 				We have seen some of the many ways to model the allocation $k$ during the quiz in class. Here I will say that $k \in [0,1]^N$ prescribes the probability $k_i$ that student $i$ gets a seat, and that these probabilities must be generated by some lottery $z:\Theta \to \varDelta (2^N)$ that maps profiles of reports to distributions over subsets of students.\footnote{Here $2^N$ is the set of subsets of students, and $\varDelta(2^N)$ is the set of probability distributions over this set. Meaning that a typical element of $\varDelta(2^N)$ looks, when traslated to words, like: ``with probability 30\% students 1, 3, and 4 are selected [to attend], and with probability 70\% students 1, 4, 6, and 19 are selected''. What I mean by ``$k$ must be generated by $z$'' is ``for any $i$ and $\theta$: $k_i(\theta) = \sum_{I \in 2^N: i \in I} z(\theta)(I)$''.}		This is quite a general way to model it. You can get away with simpler options if you do not care about breaking ties fairly.				For payoffs, given the rest of the specification, Euclidean will do just fine: $u(x,\theta) = k_i \theta_i - t_i$.				The efficient s.c.f. is as follows. Let $\theta_{(j)}$ denote the $j$th highest valuation given some realization of type profile $\theta$. We can safely let $k_i =1$ for all $i$ with $\theta_i > \theta_{(38)}$ and $k_i = 0$ with $\theta_i < \theta_{(38)}$. A simple (and acceptable) way to address ties is to say in words that ``ties are broken evenly''. A formal way to say the same is to say that $z(\theta)$ assigns positive and equal weights to all possible player subsets $I$ s.t. $i \in I$ if $\theta_i > \theta_{(38)}$ and $i \notin I$ if $\theta_i < \theta_{(38)}$.\footnote{The problem with ties comes from this being a multi-unit auction. It would not be correct to say that every tied player gets the item with probability $1/k$, where $k$ is the number of tied players, since they may be tied for two or more items.}				\item $t_i^{VCG} = - \sum_{j \neq i} \theta_{j} k^*_j(\theta) + \sum_{j \neq i} \theta_{j} k^*_j(\theta_{-i})$. If $k^*_i(\theta) = 0$, then $k^*_j(\theta) = k^*_j(\theta_{-i})$, so $t_i^{VCG} = 0$. If $k^*_i(\theta) = 1$, then $k^*(\theta)$ and $k^*(\theta_{-i})$ only differ in that one player (or many tied players) with valuation $\theta_{(39)}$ get to attend the class under $k^*(\theta_{-i})$, but not $k^*(\theta)$. Plugging these into the VCG transfers, we get $t_i^{VCG} = \theta_{(39)}$ -- any winning player must pay the externality they impose on everyone else, which in this case is the highest valuation among the losing players.		Finally, if $k_i^*(\theta) \in (0,1)$ ($i$ is tied for winning), player $i$ would pay $t_i^{VCG}(\theta) = k_i^*(\theta) \theta_{(39)} = k_i^*(\theta) \theta_{(38)}$ -- you can see this as paying the same price, but only if $i$ wins the tie.				\item We saw a few suggestions in class during the quiz (pay-with-pie, pay-with-sleep, pay-with-essay-effort). See the discussion on absalon for some mechanism suggestions in more details. 	\end{enumerate}\fi\section{Efficient public good provision}		This is a more standard problem on VCG mechanism. We have done a version of this problem with numbers in lecture (Moon base example), now do it with letters.		There is a society of $N$ people. They must collectively decide whether to implement a public project (e.g., build a bridge, or pass a tax reform). Let $k \in \{0,1\}$ denote the outcome of this decision: $k=1$ if project is implemented, $k=0$ otherwise. Every person $i$ has some private valuation $\theta_i \in \mathbb{R}$ for the project, positive or negative. Preferences are quasilinear, so $i$'s utility can be written as	$$		u_i(x,\theta) = \theta_i k(\theta) - t_i(\theta).	$$	Here $x=(k,t)$ stands for some direct mechanism which prescribes outcome $k(\theta)$ and payment profile $t(\theta)$ given profile of reports $\theta$.		\begin{enumerate}		\item Calculate the efficient allocation rule $k^*(\theta)$.		\item Calculate the ``efficient-ignoring-$i$'' allocation rule $k^*(\theta_{-i})$.		\item Calculate VCG transfers $t^{VCG}(\theta)$ that support $k^*$.		\item Calculate players' ex post utilities $u_i((k^*(\theta),t^{VCG}(\theta)),\theta)$. Is the mechanism ex post IR?		\item Calculate the ex post budget surplus $\sum_{i=1}^N t_i(\theta)$ as a function of $\theta$. Is the mechanism ex post budget balanced?	\end{enumerate}	\ifsolutions\section*{Solution}	\begin{enumerate}		\item The efficient allocation $k^*(\theta)$ maximizes $\sum_{i=1}^N \theta_i k(\theta)$, hence 		$$			k^*(\theta) = 			\begin{cases}				1 & \text{ if } \sum_i \theta_i > 0				\\				0 & \text{ if } \sum_i \theta_i \leq 0			\end{cases}		$$		For simplicity, break the tie towards not implementing the project when the society is indifferent.				\item Similarly, $k^*(\theta_{-i})$ maximizes $\sum_{j \neq i} \theta_j k(\theta)$, so 		$$		k^*(\theta_{-i}) = 		\begin{cases}		1 & \text{ if } \sum_{j \neq i} \theta_j > 0		\\		0 & \text{ if } \sum_{j \neq i} \theta_j \leq 0		\end{cases}		$$				\item VCG transfers are given by		\begin{align*}			t_{i}^{VCG}(\theta) &= -\left(\sum_{j\neq i} \theta_j k^*(\theta_i, \theta_{-i}) \right) + \sum_{j\neq i} \theta_j k^*(\theta_{-i})			\\			&= -\left(\sum_{j\neq i} \theta_j \right) \mathbb{I}\left\{ \sum_j \theta_j > 0 \right\} +\left( \sum_{j\neq i} \theta_j \right) \mathbb{I}\left\{ \sum_{j \neq i} \theta_j > 0 \right\}			\\			&= \left(\sum_{j\neq i} \theta_j \right) \left[ \mathbb{I}\left\{ \sum_{j \neq i} \theta_j > 0 \right\} - \mathbb{I}\left\{ \sum_j \theta_j > 0 \right\} \right],		\end{align*}		where $\mathbb{I}\{\cdot\}$ is an indicator function (takes value $1$ if its argument is \texttt{True} and $0$ if it is \texttt{False}). In words, citizen $i$ only has a non-trivial transfer if they are pivotal in social decision:		\begin{itemize}			\item $i$ must pay $\left(\sum_{j\neq i} \theta_j \right)$ to the mechanism if the project is not implemented ($k^*(\theta)=0$), but it would have been implemented without $i$ ($k^*(\theta_{-i})=1$). This can happen if $\theta_i < 0$.						\item $i$ receives a payment of $\left(\sum_{j\neq i} \theta_j \right)$ from the mechanism if the project is implemented ($k^*(\theta)=1$), but it would not have been implemented without $i$ ($k^*(\theta_{-i})=0$).		\end{itemize}				\item Let $U_i(\theta) \equiv u_i((k^*(\theta),t^{VCG}(\theta)),\theta)$. Bruteforcing over possible combinations of $k^*(\theta)$, $k^*(\theta_{-i})$, and the sign of $\theta_i$, would lead us to the observation that if $\theta_i \leq 0$, $\sum_{j \neq i} \theta_j > 0$, and $\sum_j \theta_j > 0$, then $U_i(\theta) < 0$. Person $i$ does not have to pay anything ($t^{VCG}_i(\theta)=0$) in that case, but the project is implemented and $\theta_i < 0$. If such a type profile occurs, $i$ would wish they did not sign up for the mechanism -- so the mechanism is not ex post IR.				\item If you try to write out the whole surplus and analyze it, you will get a big and difficult-to-analyze expression. A better way to proceed is to analyze $t_i^{VCG}(\theta)$ for each $i$ individually. In particular, $i$'s transfer can be negative only in one of the two following cases:		\begin{enumerate}			\item $\sum_{j\neq i} \theta_j < 0$, $\mathbb{I}\left\{ \sum_{j \neq i} \theta_j > 0 \right\}=1$, and $\mathbb{I}\left\{ \sum_j \theta_j > 0 \right\}=0$;			\item $\sum_{j\neq i} \theta_j > 0$, $\mathbb{I}\left\{ \sum_{j \neq i} \theta_j > 0 \right\}=0$, and $\mathbb{I}\left\{ \sum_j \theta_j > 0 \right\}=1$.		\end{enumerate}		You can see that the first two requirements in either case contradict one another. Therefore, $t_i^{VCG}(\theta) \geq 0$ for all $i$ and $\theta$, and thus the VCG mechanism is ex post budget balanced in this problem (but not ``exactly budget balanced'').	\end{enumerate}\fi\section{Judicial design}A suspect is in custody, accused of murder.  If he goes to trial he will either be convicted or acquitted. If he is convicted he will be sent to prison for life giving him a payoff of $-1$.  If he is acquitted he goes free and has a payoff of $0$.  The district attorney can offer plea bargains: allowing the defendant to plead guilty in return for a lighter sentence.  In particular, for any $r\in (0,1)$, the DA can offer a reduced sentence which, if accepted, would give the defendant a payoff of $-r.$The defendant is privately informed about his chances for acquittal at trial:  $\theta\in [0,1]$ is the defendant's privately known probability of acquittal.  If the defendant does not enter into a plea bargain with the DA he will go to trial and be convicted with probability $1 - \theta$.Consider the mechanism design problem where the DA is the principal and the defendant is the agent.  A social choice function is a mapping $f:[0,1] \rightarrow \left\{ \text{trial} \right\} \cup (0,1)$ where $f(\theta) = \text{trial}$ means that type $\theta$ will go to trial and $f(\theta) = r \in (0,1)$ means that type $\theta$ accepts a plea bargain giving him a sentence with payoff $-r$. DA thinks $\theta$ has full support on $[0,1]$.\begin{enumerate}	\item Write down the inequalities that characterize whether some given social choice function $f$ is incentive-compatible	for the defendant.	\item What is the set of all incentive-compatible social choice functions?	You can proceed in the following steps:	\begin{itemize}		\item Show that in any IC $f$ at most one plea bargain $r$ is available.		\item Show that $f$ must be of cutoff type, with the suspect taking the plea if $\theta < \bar{\theta}$ and going to court otherwise.		\item Find the value of $r$ that makes the cutoff s.c.f. $f$ incentive compatible given some cutoff type $\bar{\theta}$.		\item Combine all of the above to characterize the set of implementable $f$.	\end{itemize}\end{enumerate}\ifsolutions\subsection*{Solution}By going to trial a defendant of type $\theta$ receives (expected) utility of $-(1-\theta)$, while from accepting a plea bargain his utility is $-r$. %This implies that the IC constraint is $f(\theta)=r \Rightarrow -r\geq -(1-\theta) ~\&~ \forall \theta' \neq \theta ~ f(\theta') \geq f(\theta)$.Fix some s.c.f. $f(\theta)$. Let $\Theta_p$ be the set of types who are offered a plea bargain $f(\theta) = r(\theta)$, and $\Theta_t$ be the set of types who are meant to go to trial: $f(\theta) = \text{trial}$ ($\Theta_t \cup \Theta_p = [0,1]$). Then the IC constraints are given by:\begin{align*}	\text{ for all } \theta \in \Theta_p: \quad&-r(\theta) \geq -r(\theta') \text{ for all } \theta' \in \Theta_p	\\	& \text{and}  -r(\theta) \geq -(1-\theta);	\\	\text{ for all } \theta \in \Theta_t: \quad& -(1-\theta) \geq -r(\theta') \text{ for all } \theta' \in \Theta_p.\end{align*}We will characterize the set of IC social choice functions by a series of claims. %For simplicity we will initially assume that $\theta$ has full support on $[0,1]$, and then correct for other cases.\begin{itemize}	\item[claim 1] $f(\bullet)$ has at most one value on the real line.		Proof: if $f(\theta_1)<f(\theta_2) ~\theta_1,\theta_2 \in [0,1]$ then a defendant of type $\theta_2$ gains higher utility by declaring $\theta_1$ (as $-f(\theta_1)>-f(\theta_2)$. This implies the mechanism is not IC for $\theta_2$.		\item[claim 2] $f(\bullet)$ has a cutoff at some $\bar{\theta}$. i.e. $f(\theta)= \begin{cases} r & \text{if } \theta<\bar{\theta}	\\	T & \text{if } \theta\geq\bar{\theta} \end{cases}$ (value at $\bar{\theta}$ is not unique)\\		Proof: assume $\theta'>\theta , f(\theta)=T, f(\theta')=r$. By IC for $\theta$ we know that $-r\leq -(1-\theta)$. However as $-(1-\theta')>-(1-\theta)$ this implies that $-(1-\theta')>-r$ and we don't have IC for $\theta'$.		\item[claim 3] $u(-f(\bar{\theta}),\bar{\theta})\geq -(1-\bar{\theta})$		This follows immediately from IC for type $\bar{\theta}$.		\item[claim 4] $r= 1-\bar{\theta}$		Proof: $r\leq 1-\bar{\theta}$ follows directly from the last claim, while $r\geq 1-\bar{\theta}$ follows from IC of type $\bar{\theta}+\epsilon$. If type $\bar{\theta}$ were strictly better of by accepting the plea bargain, by continuity and monotonicity of benefit of trial, type $\bar{\theta}+\epsilon$ would also strictly prefer the plea bargain contradicting IC for that type.\end{itemize}These four claims  imply that for any $(r,\bar{\theta})$ s.t. $r= 1-\bar{\theta}$ the social choice function\[ f(\theta)= \begin{cases} r & \text{if } \theta<\bar{\theta} \\T & \text{if } \theta\geq\bar{\theta} \end{cases} \]is incentive compatible.%As long as the support of types has measure one, the arguments above hold. However, if there is a interval $(a,b)$ with a zero probability, then when we set $\bar{\theta}=a$ any $r\in [a-(b-a),a]$ can be used. This is the case as claim four no longer holds, and we just need to get IC for type $b$. The same argument also holds for closed or half closed intervals.\fi%%-----------------------------------------------------------------------------------------------------\end{document}