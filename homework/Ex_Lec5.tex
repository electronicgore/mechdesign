%%% License: Creative Commons Attribution Share Alike 4.0 (see https://creativecommons.org/licenses/by-sa/4.0/)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass{article}

\usepackage{amssymb}
\usepackage{enumitem}
\usepackage[usenames,dvipsnames]{color}
\usepackage{fancyhdr} % Required for custom headers
\usepackage{lastpage} % Required to determine the last page for the footer
\usepackage{extramarks} % Required for headers and footers
\usepackage[usenames,dvipsnames]{color} % Required for custom colors
\usepackage{graphicx} % Required to insert images
\usepackage{listings} % Required for insertion of code
\usepackage{courier} % Required for the courier font
\usepackage[table]{xcolor}
\usepackage{amsfonts,amsmath,amsthm,parskip,setspace,url}
\usepackage[section]{placeins}
\usepackage[a4paper]{geometry}
\usepackage[USenglish]{babel}
\usepackage[utf8]{inputenc}


% Margins
\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.6in

\linespread{1.1} % Line spacing

%----------------------------------------------------------------------------------------
%	DOCUMENT STRUCTURE COMMANDS
%	Skip this unless you know what you're doing
%----------------------------------------------------------------------------------------

% Header and footer for when a page split occurs within a problem environment
\newcommand{\enterProblemHeader}[1]{
\nobreak\extramarks{#1}{#1 continued on next page\ldots}\nobreak
\nobreak\extramarks{#1 (continued)}{#1 continued on next page\ldots}\nobreak
}

% Header and footer for when a page split occurs between problem environments
\newcommand{\exitProblemHeader}[1]{
\nobreak\extramarks{#1 (continued)}{#1 continued on next page\ldots}\nobreak
\nobreak\extramarks{#1}{}\nobreak
}

\setcounter{secnumdepth}{0} % Removes default section numbers
\newcounter{homeworkProblemCounter} % Creates a counter to keep track of the number of problems

\newcommand{\homeworkProblemName}{}
\newenvironment{ex}[1][Problem \arabic{homeworkProblemCounter}]{ % Makes a new environment called homeworkProblem which takes 1 argument (custom name) but the default is "Problem #"
\stepcounter{homeworkProblemCounter} % Increase counter for number of problems
\renewcommand{\homeworkProblemName}{#1} % Assign \homeworkProblemName the name of the problem
\section{\homeworkProblemName} % Make a section in the document with the custom problem count
%\enterProblemHeader{\homeworkProblemName} % Header and footer within the environment
}{
%\exitProblemHeader{\homeworkProblemName} % Header and footer after the environment
}

\newcommand{\problemAnswer}[1]{ % Defines the problem answer command with the content as the only argument
\noindent\framebox[\columnwidth][c]{\begin{minipage}{0.98\columnwidth}#1\end{minipage}} % Makes the box around the problem answer and puts the content inside
}

\newcommand{\homeworkSectionName}{}
\newenvironment{homeworkSection}[1]{ % New environment for sections within homework problems, takes 1 argument - the name of the section
\renewcommand{\homeworkSectionName}{#1} % Assign \homeworkSectionName to the name of the section from the environment argument
\subsection{\homeworkSectionName} % Make a subsection with the custom name of the subsection
%\enterProblemHeader{\homeworkProblemName\ [\homeworkSectionName]} % Header and footer within the environment
}{
%\enterProblemHeader{\homeworkProblemName} % Header and footer after the environment
}

\newif\ifsolutions

%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
%----------------------------------------------------------------------------------------
% Set up the header and footer
\pagestyle{fancy}
\lhead[c]{\textbf{{\color[rgb]{.5,0,0} K{\o}benhavns\\Universitet }} \firstxmark} % Top left header
\chead{\textbf{{\color[rgb]{.5,0,0} \Class }}\\ \hmwkTitle  } % Top center head
\rhead{\instructor \\ \theprofessor} % Top right header
\lfoot{\lastxmark} % Bottom left footer
\cfoot{} % Bottom center footer
\rfoot{Page\ \thepage\ of\ \protect\pageref{LastPage}} % Bottom right footer
\renewcommand\headrulewidth{0.4pt} % Size of the header rule
\renewcommand\footrulewidth{0.4pt} % Size of the footer rule

\setlength\parindent{12pt}







%----------------------------------------------------------------------------------------
%	NAME AND CLASS SECTION
%----------------------------------------------------------------------------------------

\newcommand{\hmwkTitle}{Exercises: Lec 5} % Assignment title
\newcommand{\Class}{Mechanism Design} % Course/class
\newcommand{\instructor}{Fall 2019} % TA
\newcommand{\theprofessor}{Prof. Egor Starkov} % Professor

%\theoremstyle{definition} \newtheorem{ex}{\textbf{\Large{Exercise & #}\\}}
\setlength{\parskip}{5 pt}




















%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\solutionsfalse
\solutionstrue
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}
	
	
	\ifsolutions
	\begin{center}
		
		{\Huge Problem Set for Lecture 5
			(with Solutions)}
	\end{center}
	
	\emph{The solutions below are brought to you by Lucas Shine.}% Notes in cursive added by Egor.}
	\fi
	
These exercises are for your own practice and are not to be handed in. Some exercises are open ended in that they may not have a unique correct answer. If you think there is a typo in the problem, attempt to amend it and proceed as best you can.

%%------------------------------------------------------------------------------------------------

\begin{ex}[Review Questions]
	\begin{itemize}
		\item Consider the results and mechanisms we have seen in the course so far. Which of them rely on the independence of players' types?
		\item How can the designer use correlation of players' types to elicit their private information?
		\item What assumption on the distribution of types is needed to for Cremer-McLean transfers to be effective at eliciting information?
		\item How can perfectly correlated information be elicited from the agents without the use of transfers?
	\end{itemize}
	
\end{ex}



%%------------------------------------------------------------------------------------------------

\begin{ex}
	Consider the 2x2 example from lecture. There are two players, $i=1,2$. Each of them has one of two types, $\theta_i \in \{H,L\}$. The joint distribution of types is given by
	\begin{center}
		\begin{tabular}{c | c | c |}
			& H 				& L					\\ \hline
			H	& $\frac{1}{6}$ 	& $\frac{1}{3}$ 	\\ \hline
			L	& $\frac{1}{3}$ 	& $\frac{1}{6}$		\\ \hline
		\end{tabular}
	\end{center}
	Both players have quasilinear utilities.
	
	First explore the problem of information elicitation (without the need to support any underlying allocation). 
	\begin{enumerate}
		\item Compute the players' interim beliefs $\phi(\theta_{-i} | \theta_i)$.
		\item Compute the truth-revealing transfers $\hat{t}_i(\theta) = -\ln(\phi(\theta_{-i} | \theta_i))$.
		\item Verify that a direct mechanism in which each player reports their type $\theta_i$ and pays $\hat{t}_i(\theta)$ is BIC (when coupled with some constant allocation rule $k$).
	\end{enumerate}

	Now suppose that the society of these two individuals chooses whether to adopt a new bank holiday called ``National Equality Day'', so the ``real outcome'' is $k \in \{1,0\}$ (where $1$ means bank holiday and $0$ means none). The holiday should only be adopted if all citizens are, in fact, equal, i.e. the desired allocation is $\tilde{k}(\theta) = \mathbb{I} \{\theta_1 = \theta_2\}$. Each citizen receives utility 1 if the holiday is adopted and 0 otherwise.
	\begin{enumerate}[resume]
		\item Is $\tilde{k}$ efficient?
		\item Show that $\tilde{k}$ cannot be sustained without transfers, i.e. that a mechanism $(\tilde{k},t)$ with $t(\theta)=0$ for all $\theta$ is not BIC.
		\item Consider transfers $t_i(\theta_i,\theta_{-i}) = C_1 + C_2 \hat{t} (\theta_i,\theta_{-i})$. Derive conditions on values of $C_1,C_2$ for which a direct mechanism $(\tilde{k},t)$ is BIC.
		\item Derive conditions on values of $C_1,C_2$ for which a direct mechanism $(\tilde{k},t)$ is interim IR and ex ante BB.
		\item Give an example of a BIC, interim IR and ex ante BB mechanism that implements $\tilde{k}$.
	\end{enumerate}

	\ifsolutions
		\section*{Solution}
		\subsubsection*{1. Compute the players' interim beliefs $\phi(\theta_{-i}|\theta_{i})$}
		Players form their beliefs using Bayes' rule:
		\begin{equation}
		\phi(\theta_{-i}|\theta_{i})=\frac{\phi(\theta_{-i},\theta_{i})}{\sum_{\theta'_{-i}\in\Theta_{-i}}\phi(\theta'_{-i},\theta_{i})}
		\end{equation}
		This implies that: 
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H) &= \frac{\phi(\theta_{-i}=H,\theta_{i}=H)}{\phi(\theta_{-i}=H,\theta_{i}=H)+\phi(\theta_{-i}=L,\theta_{i}=H)} \nonumber \\ 
		&= \frac{1/6}{1/6 + 1/3} \nonumber \\ 
		&= 1/3\\
		\phi(\theta_{-i}=L|\theta_{i}=H)&=2/3\\
		\phi(\theta_{-i}=H|\theta_{i}=L)&=2/3\\
		\phi(\theta_{-i}=L|\theta_{i}=L)&=1/3
		\end{align}
		
		
		\subsubsection*{2. Compute the truth-revealing transfers $\hat{t}_{i}(\theta)=-ln(\phi(\theta_{-i}|\theta_{i}))$}
		Inserting the values for $\phi(\theta_{-i}|\theta_{i})$, we find that:
		\begin{align}
		\hat{t}_{i}(\theta_{i}=H,\theta_{-i}=H)&=-ln(\phi(\theta_{-i=H}|\theta_{i=H})) \nonumber \\ 
		&= -ln(1/3) = ln(3)\\
		\hat{t}_{i}(\theta_{i}=H,\theta_{-i}=L)&=-ln(2/3)=ln(3)-ln(2)\\
		\hat{t}_{i}(\theta_{i}=L,\theta_{-i}=H)&=-ln(2/3)=ln(3)-ln(2)\\
		\hat{t}_{i}(\theta_{i}=L,\theta_{-i}=L)&=-ln(1/3)=ln(3)
		\end{align}
		
		
		\subsubsection*{3. Verify that a direct mechanism in which each player reports their type $\theta_{i}$ and pays $\hat{t}_{i}(\theta)$ is BIC (when
			coupled with some constant allocation rule $k$)}
		Given quasilinear utilites and the mechanism described, the players' utilities are given by:
		\begin{equation}
		u_{i}(\hat{\theta}_{i},\theta_{-i}|\theta_{i})=V_{i}(k,\theta_{i}) - \hat{t}_{i}(\hat{\theta}_{i},\theta_{-i})
		\end{equation}
		Where $V_{i}(k,\theta_{i})$ is the utility that player type $\theta_{i}$ receives from allocation $k$ and where $\hat{\theta}_{i}$ is the type, which player $i$ reports to the designer.\\\\
		We also know, that for the mechanism to be Bayesian Incentive Compatible (BIC), it must hold that for all $i$, $\theta_{i}$ and reported $\hat{\theta}_{i}\in\Theta_i$,
		\begin{equation}
		E_{\theta_{-i}}[u_{i}(\theta_{i},\theta_{-i}|\theta_{i})|\theta_{i}] \geq E_{\theta_{-i}}[u_{i}(\hat{\theta}_{i},\theta_{-i}|\theta_{i})|\theta_{i}]
		\end{equation}
		For player type $\theta_{i}=H$ in our example, this requires that
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H)(V_{i}(k,\theta_{i}=H)-\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=H) + \nonumber \\\phi(\theta_{-i}=L|\theta_{i}=H)(V_{i}(k,\theta_{i}=H)-\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=L) \geq \nonumber\\
		\phi(\theta_{-i}=H|\theta_{i}=H)(V_{i}(k,\theta_{i}=H)-\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=H) + \nonumber \\\phi(\theta_{-i}=L|\theta_{i}=H)(V_{i}(k,\theta_{i}=H)-\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=L)\\
		\rightarrow \frac{1}{3}(V_{i}(k,\theta_{i}=H)-ln(3))+\frac{2}{3}(V_{i}(k,\theta_{i}=H)-ln(3)+ln(2)) \geq \nonumber\\ \frac{2}{3}(V_{i}(k,\theta_{i}=H)-ln(3))+\frac{1}{3}(V_{i}(k,\theta_{i}=H)-ln(3)+ln(2))\\
		\rightarrow \frac{2}{3}ln(2) \geq \frac{1}{3}ln(2)
		\end{align}
		The requirement for $\theta_{i}=H$ is therefore fulfilled. Likewise, for player type $\theta_{i}=L$, BIC requires that
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=L)(V_{i}(k,\theta_{i}=L)-\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=H) + \nonumber \\\phi(\theta_{-i}=L|\theta_{i}=L)(V_{i}(k,\theta_{i}=L)-\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=L) \geq \nonumber\\
		\phi(\theta_{-i}=H|\theta_{i}=L)(V_{i}(k,\theta_{i}=L)-\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=H) + \nonumber \\\phi(\theta_{-i}=L|\theta_{i}=L)(V_{i}(k,\theta_{i}=L)-\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=L)\\
		\rightarrow \frac{2}{3}(V_{i}(k,\theta_{i}=H)-ln(3)+ln(2))+\frac{1}{3}(V_{i}(k,\theta_{i}=H)-ln(3)) \geq \nonumber\\ \frac{1}{3}(V_{i}(k,\theta_{i}=L)-ln(3)+ln(2))+\frac{2}{3}(V_{i}(k,\theta_{i}=L)-ln(3))\\
		\rightarrow \frac{2}{3}ln(2) \geq \frac{1}{3}ln(2)
		\end{align}
		Since this also holds, we have verified that a direct mechanism in which each player reports their type $\theta_{i}$ and pays $\hat{t}_{i}(\theta)$ is BIC (when
		coupled with some constant allocation rule $k$).
		
		%\\\\
		%\textit{We now suppose that the society of these two individuals chooses whether to adopt a new bank holiday called "National Equality Day", so the "real outcome" is $k\in\{1,0\}$ (where 1 means bank holiday and 0 means none). The holiday should only be adopted if all citizens are, in fact, equal, i.e. the desired allocation is $\Tilde{k}(\theta)=\mathbb{I}\{\theta_{1}=\theta_{2}\}$. Each citizen receives utility 1 if the holiday is adopted and 0 otherwise.}
		
		
		\subsubsection*{4. Is $\Tilde{k}$ efficient?}
		From the perspective of the two agents, the allocation $\Tilde{k}$ is not efficient. If both have the same type, $\Tilde{k}$ is optimal for the players, but if they are not equal, the players would be better off if the holiday was still adopted. 
		%However, from the perspective of the designer, $\Tilde{k}$ is efficient since it adopts the desired outcome.
		
		
		\subsubsection*{5. Show that $\Tilde{k}$ cannot be sustained without transfers, i.e. that a mechanism $(\Tilde{k},t)$ with $t(\theta)=0$ for all $\theta$ is not BIC}
		Given the mechanism described, the players' utility is given by
		\begin{equation}
		u_{i}(\hat{\theta}_{i}, \theta_{-i}|\theta_{i})=\mathbb{I}\{\hat{\theta}_{i}=\theta_{-i}\}
		\end{equation}
		For the mechanism to be BIC, neither player type should be incentivized to misreport their type. For player type $\theta_{i}=H$, it must therefore hold that
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H)\cdot 1 + \phi(\theta_{-i}=L|\theta_{i}=H)\cdot 0 \geq \nonumber\\
		\phi(\theta_{-i}=H|\theta_{i}=H)\cdot 0 + \phi(\theta_{-i}=L|\theta_{i}=H)\cdot 1\\
		\rightarrow \frac{1}{3} \geq \frac{2}{3}
		\end{align}
		This requirement is not fulfilled, which implies that the mechanism is not BIC. Since the player type $\theta_{i}=H$ expects that the other player is twice as likely to be type $\theta_{i}=L$, they are incentivized to misreport their type, as it would increase the chance that the holiday is adopted. Player type $\theta_{i}=L$ is likewise incentivized to report that they are player type $\theta_{i}=H$.
		
		
		\subsubsection*{6. Consider transfers $t_{i}(\theta_{i},\theta_{-i})=C_{1}+C_{2}\hat{t}_{i}(\theta_{i},\theta_{-i})$. Derive conditions on values of $C_{1}$, $C_{2}$ for which a direct mechanism $(\Tilde{k},t)$ is BIC}
		Given this transfer-scheme, the players' utilities are
		\begin{align}
		u_{i}(\hat{\theta}_{i}, \theta_{-i}|\theta_{i})=\mathbb{I}\{\hat{\theta}_{i}=\theta_{-i}\}-t_{i}(\hat{\theta}_{i},\theta_{-i}) \nonumber\\
		=\mathbb{I}\{\hat{\theta}_{i}=\theta_{-i}\}-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i},\theta_{-i})
		\end{align}
		For player type $\theta_{i}=H$, BIC therefore requires that: (\emph{Note: earlier version of this solution had minor typos in (23) and (24).})
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H)(1-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=H))+\nonumber\\
		\phi(\theta_{-i}=L|\theta_{i}=H)(0-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=L)) \geq \nonumber\\ \phi(\theta_{-i}=H|\theta_{i}=H)(0-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=H)) + \nonumber\\ \phi(\theta_{-i}=L|\theta_{i}=H)(1-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=L,\theta_{-i}=L))
		\\
		\rightarrow 
		\frac{1}{3}(1-C_{1}-C_{2}ln(3))+\frac{2}{3}(0-C_{1}-C_{2}ln(3)+C_{2}ln(2)) \geq \nonumber\\ 
		\frac{2}{3}(1-C_{1}-C_{2}ln(3)) + \frac{1}{3}(0-C_{1}-C_{2}ln(3)+C_{2}ln(2))
		\\
		\rightarrow
		\frac{1}{3}-C_{1}-C_{2}\left(ln(3)+\frac{2}{3}ln(2)\right) \geq  \frac{2}{3}-C_{1}-C_{2}\left(ln(3)+\frac{1}{3}ln(2)\right)
		\\
		\frac{1}{3}C_{2}ln(2) \geq \frac{1}{3}\\
		C_{2}\geq \frac{1}{ln(2)}, C_{1}\in\mathbb{R}
		\end{align}
		Given symmetry, the same condition is required for the mechanism to tbe BIC for player type $\theta_{i}=L$.
		
		
		\subsubsection*{7. Derive conditions on values of $C_1,C_2$ for which a direct mechanism $(\Tilde{k},t)$ is interim Individually Rational (IR) and ex ante Budget Balanced (BB)}
		For the mechanism to be individually rational for a player, the expected utility for the player from participating must be at least as high as their outside utility, which in this case is zero. As such, the mechanism is interim IR for player type $\theta_{i}=H$, as long as 
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H)(1-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=H))+\nonumber\\
		\phi(\theta_{-i}=L|\theta_{i}=H)(0-C_{1}-C_{2}\hat{t}_{i}(\hat{\theta}_{i}=H,\theta_{-i}=L)) \geq 0\\
		\rightarrow
		\frac{1}{3}(1-C_{1}-C_{2}ln(3))+\frac{2}{3}(0-C_{1}-C_{2}ln(3)+C_{2}ln(2)) \geq 0\\
		\rightarrow
		C_1\leq\frac{1}{3}-C_2(ln(3)-\frac{2}{3}ln(2))
		\end{align}
		Once again, the same condition holds true for player type $\theta_{i}=L$.\\\\
		For the mechanism to be ex ante Budget Balanced, the expected sum of payments must be non-negative, which implies that:
		\begin{align}
		\phi(\theta_{-i}=H|\theta_{i}=H)t_i(\theta_{i}=H,\theta_{-i}=H)+\nonumber\\
		\phi(\theta_{-i}=L|\theta_{i}=H)t_i(\theta_{i}=H,\theta_{-i}=L)+\nonumber\\
		\phi(\theta_{-i}=H|\theta_{i}=L)t_i(\theta_{i}=L,\theta_{-i}=H)+\nonumber\\
		\phi(\theta_{-i}=L|\theta_{i}=L)t_i(\theta_{i}=L,\theta_{-i}=L)\geq 0\\
		\rightarrow
		\frac{1}{6}(C_1+C_2ln(3))+\frac{1}{3}(C_1+C_2ln(3)-C_2ln(2))+\nonumber\\
		\frac{1}{3}(C_1+C_2ln(3)-C_2ln(2))+\frac{1}{6}(C_1+C_2ln(3))\geq 0\\
		\rightarrow
		C_1+C_2ln(3)-\frac{2}{3}C_2ln(2)\geq 0\\
		\rightarrow
		C_1\geq -C_2(ln(3)-\frac{2}{3}ln(2))
		\end{align}
		For the mechanism to be interim IR and ex ante BB, $C_1$ and $C_2$ must satisfy the condition:
		\begin{equation}
		1/3-C_2(ln(3)-\frac{2}{3}ln(2))\geq C_1 \geq -C_2(ln(3)-\frac{2}{3}ln(2))
		\end{equation}
		
		
		\subsubsection*{8. Give an example of a BIC, interim IR and ex ante BB mechanism that implements $\Tilde{k}$}
		We choose an arbitrary value $C_2=3$, which satisfies the BIC-condition $C_2\geq \frac{1}{ln(2)}$. We then choose $C_1$, such that the mechanism is exactly ex ante BB. This implies that 
		\begin{align}
		C_1=-3(ln(3)-\frac{2}{3}ln(2))\nonumber\\
		=ln(\frac{4}{9})
		\end{align}
		The direct revelation mechanism $(\tilde{k},t)$, where transfer-scheme $t$ is given by $t_i(\theta_i,\theta_{-i})=ln(\frac{4}{9})-3ln(\phi(\theta_{-i}|\theta_{i}))$ is therefore BIC, interim IR and ex ante BB and it implements the desired allocation $\Tilde{k}$.
	\fi
\end{ex}



%%------------------------------------------------------------------------------------------------

\ifsolutions\newpage\fi 
\begin{ex}
	Construct a perfectly revealing equilibrium in the Battaglini(2003) model with agents' biases $b_1 = (1, -3)$ and $b_2 = (-4, 2)$. (Describe agents' reporting strategies as functions of state and the principal's decision strategy as a function of reports.)
	
	\ifsolutions
		\section*{Solution}
		We consider an example of the Battaglini (2003) model with one principal, two agents and a two-dimensional outcome, where the two agents $i\in\{1,2\}$ have biases $b_1=(1,-3)$ and $b_2=(-4,2)$ respectively. The timing of the interaction is as follows:
		\begin{enumerate}
			\item Nature determines the state of the world $w=(w_1,w_2)\in\mathbb{R}^2$, which is observed by both agents, but not the principal
			\item Having observed $w$, agents $1$ and $2$ simultaneously send messages\\ ($m_1(w),m_2(w))\in\mathbb{R}^2$ to the principal about the observed state
			\item Having observed messages $(m_1(w),m_2(w))$, the principal chooses the two-dimensional action $a=(m_1(w),m_2(w))\in\mathbb{R}^2$
		\end{enumerate}
		All players have squared-Euclidean-distance preferences, which means that they wish to minimize the distance between the principle's chosen action $a$ and their respective bliss points. The principal's bliss point is simply the true state $w$, while the agents' bliss points are the sum of their respective biases $(b_1,b_2)$ and the true state $w$. We can therefore express their utilities as:
		\begin{itemize}
			\item Principle: $u_p(a,w)=-(||a-w||)^2$
			\item Agent $i$: $u_i(a,w)=-(||a-(w+b_i)||)^2$
		\end{itemize}
		where $||x||=\sqrt{x_1^2+x_2^2}$, for $x=(x_1,x_2)\in\mathbb{R}^2$. The agents biases $b_i$ are commonly known. This implies that the principal chooses the equilibrium action such that $a^*(m_1(w),m_2(w))=E[w|(m_1(w),m_2(w))]$ and with this in mind, agent $i$ sends message $\hat{m}_i(w)$ in order to maximize their utility $u_i(a^*,w)=-(||a^*(\hat{m}_i(w),m_{-i}(w))-(w+b_i)||)^2$\\\\
		The principal is able to design how the agents communicate to the principal about the observed state. In order to find a fully revealing equilibrium, the goal of the principal is to design communication strategies such that the principal is able to identify the state from the two messages and such that it is optimal for the agents to tell the truth. The Battaglini (2003) model suggests that the principal should restrict the agents' messaging, such that instead of simply reporting $w$, a given agent must report a line which is orthogonal to the other player's bias. The implication is that there is a second stage where the player then reports the true state $w$ on the line reported by the other player. However, in practice, this second stage is not necessary for the fully revealing equilibrium, since the reported lines are sufficient in order to locate $w$.\\\\
		We can construct this formally by considering the basis $(c_1,c_2)$ where $c_1$ and $c_2$ are vectors which are orthogonal to the biases $b_1$ and $b_2$ respectively. As long as $b_1$ and $b_2$ are linearly independent, then so are $c_1$ and $c_2$, which implies that the true state $w$ can be uniquely represented as a linear combination of $c_1$ and $c_2$:
		\begin{equation}
		w=o^1 \cdot c_1 + o^2 \cdot c_2 \nonumber
		\end{equation}
		where $(o^1,o^2)$ are a given pair of coordinates. The principal imposes on agent $i$ that they must report the value of $o^j$. After receiving the reports, the principal then chooses $a(o^1,o^2)=o^1 \cdot c_1 + o^2 \cdot c_2$. Given that the other player reports truthfully, Battaglini shows that it is optimal for a player to also report truthfully, which in turn ensures that the true state is chosen by the principal. This implies that the mechanism provides a fully revealing equlibrium.\\\\
		In our example, where $b_1=(1,-3)$ and $b_2=(-4,2)$, we use the formula $c_i=\frac{1}{||b_i||}
		\begin{bmatrix}
		0 & 1\\
		-1 & 0
		\end{bmatrix}b_i$ to calculate the vectors $(c_1,c_2)$ with unit length:
		\begin{align}
		c_1&=\bigg(\frac{-3}{\sqrt{10}},\frac{-1}{\sqrt{10}}\bigg) \nonumber\\
		c_2&=\bigg(\frac{1}{\sqrt{5}},\frac{2}{\sqrt{5}}\bigg) \nonumber
		\end{align}
		This implies that $w$ can be represented as 
		\begin{align}
		w&=o^1 \cdot \bigg(\frac{-3}{\sqrt{10}},\frac{-1}{\sqrt{10}}\bigg) + o^2 \cdot \bigg(\frac{1}{\sqrt{5}},\frac{2}{\sqrt{5}}\bigg)\nonumber\\
		\rightarrow w_1&=o^1(\frac{-3}{\sqrt{10}})+o^2(\frac{1}{\sqrt{5}})\ \ \text{and}\ \ \nonumber
		w_2=o^1(\frac{-1}{\sqrt{10}})+o^2(\frac{2}{\sqrt{5}}) \nonumber
		\end{align}
		Solving for $o^1$ and $o^2$, we find that
		\begin{equation}
		o^1=-\sqrt{10}(w_1-2w_2) \ \ \text{and} \ \ o^2=\frac{\sqrt{5}}{2}(3w_2-w_1)\nonumber
		\end{equation}
		Given a realized state $w=(w_1,w_2)$, these values of $o^1$ and $o^2$ are the equilibrium reporting strategies of the two agents in our example, which imply that the principal chooses the true state $a=w$.
	\fi
\end{ex}



%%%------------------------------------------------------------------------------------------------
%
%\begin{ex}
%	Consider the optimal auction problem in which there are two bidders whose valuations $v_i \in [0,1]$ are uniformly distributed but perfectly correlated, i.e. $v_1 = v_2$ with probability 1.  Construct a DSIC mechanism with the following properties:
%	\begin{enumerate}
%		\item Bidder 2 wins the object regardless of the type profile.
%		\item Both bidders earn zero utility at every type profile.
%	\end{enumerate}
%	
%	\ifsolutions
%	\section*{Solution}
%	Consider the following allocation:
%	\[q_1(v_1,v_2)=0\]
%	\[q_2(v_1,v_2)=\left\{\begin{array}{cc} 0 & \text{ if }\quad v_2\neq v_1\\
%	1 & \quad\text{otherwise}\quad
%	
%	\end{array}
%	\right.\]
%	\[t_1(v_1,v_2)=0\]
%	\[t_2(v_1,v_2)=\left\{\begin{array}{cc} 0 & \text{if}\quad v_2\neq v_1\\
%	v_1 & \quad\text{otherwise}\quad\end{array}\right.\]
%	Note that for bidder 1 it is weakly dominant to say his valuation: he never gets the good so he might as well say $v_1$. For player 2, we have exactly the same situation: given the message sent by agent 1, he is indifferent between saying the truth and not, so telling the truth is weakly dominant. Agent 2 gets the good always and both bidders have 0 utility at every profile.
%	\fi
%\end{ex}

\end{document}
